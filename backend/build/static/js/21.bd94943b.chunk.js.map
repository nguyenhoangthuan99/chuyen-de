{"version":3,"sources":["component/thongtinquanly.jsx"],"names":["Thongtinquanly","user","enqueueSnackbar","useSnackbar","schema","yup","shape","fullname","required","address","phone","birthday","form","useForm","defaultValues","Id","email","role","resolver","yupResolver","register","handleSubmit","setValue","errors","formState","useEffect","slice","handleOnSubmit","value","a","id","params","password","status","userApi","update","variant","response","data","detail","className","onSubmit","style","opacity","width","name","margin","fullWidth","disabled","color","fontSize","textAlign","type","placeholder","marginTop","marginLeft","fontWeight","background"],"mappings":"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","file":"static/js/21.bd94943b.chunk.js","sourcesContent":["import { ErrorMessage } from \"@hookform/error-message\";\r\nimport { yupResolver } from \"@hookform/resolvers/yup\";\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport { useSnackbar } from \"notistack\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport * as yup from \"yup\";\r\nimport userApi from \"../api/userApi\";\r\nimport \"./style2.css\";\r\nimport \"./style3.css\";\r\n\r\nfunction Thongtinquanly({ user }) {\r\n  const { enqueueSnackbar } = useSnackbar();\r\n  const schema = yup.object().shape({\r\n    fullname: yup.string().required(\"please enter your fullname\"),\r\n    address: yup.string().required(\"please enter your address\"),\r\n    phone: yup.string().required(\"please enter your phone\"),\r\n    birthday: yup.string().required(\"please enter your birthday\"),\r\n  });\r\n  const form = useForm({\r\n    defaultValues: {\r\n      Id: \"\",\r\n      fullname: \"\",\r\n      email: \"\",\r\n      address: \"\",\r\n      phone: \"\",\r\n      role: \"\",\r\n    },\r\n    resolver: yupResolver(schema),\r\n  });\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    setValue,\r\n    formState: { errors },\r\n  } = form;\r\n  useEffect(() => {\r\n    const setUser = () => {\r\n      setValue(\"Id\", user.Id);\r\n      setValue(\"fullname\", user.fullname);\r\n      setValue(\"email\", user.email);\r\n      setValue(\"address\", user.address);\r\n      setValue(\"phone\", user.phone);\r\n      setValue(\"birthday\", `${user.birthday}`.slice(0, 10));\r\n      setValue(\"role\", user.role);\r\n    };\r\n    setUser();\r\n  }, [setValue, user]);\r\n\r\n  const handleOnSubmit = async (value) => {\r\n    try {\r\n      const id = user.Id;\r\n      const params = {\r\n        Id: id,\r\n      };\r\n      value.password = \"\";\r\n      value.status = 1;\r\n      await userApi.update(value, params);\r\n      enqueueSnackbar(\"Success\", {\r\n        variant: \"success\",\r\n      });\r\n    } catch (error) {\r\n      enqueueSnackbar(error.response.data.detail, {\r\n        variant: \"error\",\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"thongtincanhan\">\r\n      <form onSubmit={handleSubmit(handleOnSubmit)}>\r\n        <p className=\"thongtincanhan-title\">Thông tin cá nhân</p>\r\n        <hr style={{ opacity: \"0.3\", width: \"100%\" }} />\r\n        <br />\r\n        {/* id */}\r\n        <div className=\"thongtincanhan-contents\">\r\n          <div className=\"thongtincanhan-contents-label\">Mã số :</div>\r\n          <div className=\"thongtincanhan-contents-input\">\r\n            <TextField\r\n              {...register(\"Id\")}\r\n              name=\"Id\"\r\n              className=\"outlined-basic\"\r\n              variant=\"outlined\"\r\n              required\r\n              margin=\"dense\"\r\n              fullWidth\r\n              disabled\r\n            />\r\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n              <ErrorMessage errors={errors} name=\"id\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {/* fullname */}\r\n        <div className=\"thongtincanhan-contents\">\r\n          <div className=\"thongtincanhan-contents-label\">Họ và tên :</div>\r\n          <div className=\"thongtincanhan-contents-input\">\r\n            <TextField\r\n              {...register(\"fullname\")}\r\n              name=\"fullname\"\r\n              className=\"outlined-basic\"\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              fullWidth\r\n            />\r\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n              <ErrorMessage errors={errors} name=\"fullname\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {/* email */}\r\n        <div className=\"thongtincanhan-contents\">\r\n          <div className=\"thongtincanhan-contents-label\">Email :</div>\r\n          <div className=\"thongtincanhan-contents-input\">\r\n            <TextField\r\n              {...register(\"email\")}\r\n              name=\"email\"\r\n              className=\"outlined-basic\"\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              fullWidth\r\n              disabled\r\n            />\r\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n              <ErrorMessage errors={errors} name=\"email\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {/* Ngày sinh */}\r\n        <div className=\"thongtincanhan-contents\">\r\n          <div className=\"thongtincanhan-contents-label\">Ngày sinh :</div>\r\n          <div className=\"thongtincanhan-contents-input\">\r\n            <TextField\r\n              {...register(\"birthday\")}\r\n              name=\"birthday\"\r\n              className=\"outlined-basic\"\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              fullWidth\r\n              type=\"date\"\r\n            />\r\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n              <ErrorMessage errors={errors} name=\"birthday\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {/* Địa chỉ */}\r\n        <div className=\"thongtincanhan-contents\">\r\n          <div className=\"thongtincanhan-contents-label\">Địa chỉ :</div>\r\n          <div className=\"thongtincanhan-contents-input\">\r\n            <TextField\r\n              {...register(\"address\")}\r\n              name=\"address\"\r\n              className=\"outlined-basic\"\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              fullWidth\r\n            />\r\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n              <ErrorMessage errors={errors} name=\"address\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Số điện thoại */}\r\n        <div className=\"thongtincanhan-contents\">\r\n          <div className=\"thongtincanhan-contents-label\">Số điện thoại :</div>\r\n          <div className=\"thongtincanhan-contents-input\">\r\n            <TextField\r\n              {...register(\"phone\")}\r\n              name=\"phone\"\r\n              className=\"outlined-basic\"\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              fullWidth\r\n              placeholder=\"Chưa cập nhật\"\r\n              type=\"number\"\r\n            />\r\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n              <ErrorMessage errors={errors} name=\"phone\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n        {/* Chức vụ */}\r\n        <div className=\"thongtincanhan-contents\">\r\n          <div className=\"thongtincanhan-contents-label\">Chức vụ :</div>\r\n          <div className=\"thongtincanhan-contents-input\">\r\n            <TextField\r\n              {...register(\"role\")}\r\n              name=\"role\"\r\n              className=\"outlined-basic\"\r\n              variant=\"outlined\"\r\n              margin=\"dense\"\r\n              fullWidth\r\n              disabled\r\n            />\r\n            <p style={{ color: \"red\", fontSize: \"12px\", textAlign: \"left\" }}>\r\n              <ErrorMessage errors={errors} name=\"role\" />\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div className=\"thongtincanhan-contents\">\r\n          <Button\r\n            style={{\r\n              width: \"250px\",\r\n              marginTop: \"40px\",\r\n              marginLeft: \"0px\",\r\n              fontWeight: \"400\",\r\n              background: \"rgb(235, 43, 43)\",\r\n              color: \"white\",\r\n            }}\r\n            variant=\"contained\"\r\n            type=\"submit\"\r\n          >\r\n            Cập nhật thông tin\r\n          </Button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Thongtinquanly;\r\n"],"sourceRoot":""}